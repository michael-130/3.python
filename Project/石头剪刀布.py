import random

def 获取用户选择():
    """获取用户的选择"""
    while True:
        用户选择 = input("请选择石头、剪刀或布：").lower()
        if 用户选择 in ["石头", "剪刀", "布"]:
            return 用户选择
        else:
            print("无效的选择！请输入'石头'、'剪刀'或'布'")

def 获取电脑选择():
    """随机生成电脑的选择"""
    选项 = ["石头", "剪刀", "布"]
    return random.choice(选项)

def 判断胜负(用户, 电脑):
    """判断游戏结果"""
    if 用户 == 电脑:
        return "平局"
    elif (用户 == "石头" and 电脑 == "剪刀") or \
         (用户 == "剪刀" and 电脑 == "布") or \
         (用户 == "布" and 电脑 == "石头"):
        return "用户获胜"
    else:
        return "电脑获胜"

def 主游戏():
    """主游戏循环"""
    print("欢迎来到石头剪刀布游戏！")
    
    用户分数 = 0
    电脑分数 = 0
    
    while True:
        print(f"\n当前分数 - 你：{用户分数}，电脑：{电脑分数}")
        
        用户选择 = 获取用户选择()
        电脑选择 = 获取电脑选择()
        
        print(f"你选择了：{用户选择}")
        print(f"电脑选择了：{电脑选择}")
        
        结果 = 判断胜负(用户选择, 电脑选择)
        
        if 结果 == "平局":
            print("平局！")
        elif 结果 == "用户获胜":
            print("你赢了这一轮！")
            用户分数 += 1
        else:
            print("电脑赢了这一轮！")
            电脑分数 += 1
        
        继续游戏 = input("想要继续游戏吗？(是/否)：").lower()
        if 继续游戏 != "是":
            break
    
    print(f"\n最终分数 - 你：{用户分数}，电脑：{电脑分数}")
    
    if 用户分数 > 电脑分数:
        print("恭喜！你是总冠军！")
    elif 电脑分数 > 用户分数:
        print("电脑获胜！下次再努力！")
    else:
        print("总体平局！")
    
    print("感谢游戏！")

if __name__ == "__main__":
    主游戏()